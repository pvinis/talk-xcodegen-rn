import { Notes, Head, Footer, Appear, Split, useDeck } from 'mdx-deck'
import { Box, Link, Flex, Styled } from 'theme-ui'

import { Counter } from './components/Counter'
import { AboveFooter } from './components/AboveFooter'
import { myTheme } from './theme'

import { myFace2, diff1, diff2, diff3, xcode1 } from "./images"

export const theme = myTheme


<Head>
	<link href="https://pvinis.github.io/iosevka-webfont/3.4.1/iosevka.css" rel="stylesheet" />
</Head>


<Footer>

<Flex sx={{
	position: 'absolute',
	left: 0,
	right: 0,
	bottom: 0,
	height: 40,
	borderTop: `${theme.colors.accent} solid 1px`,
	flexDirection: "row",
	alignItems: 'center',
	justifyContent: "space-around",
}}>

<Counter />

React Native EU 2020

Pavlos Vinieratos

@pvinis

</Flex>

</Footer>


# Xcode complexity? No more.

## with Pavlos Vinieratos

#### React Native EU @ your screen, your house

#### August 2020

<Notes>

second talk, thanks to RN EU again!

</Notes>

---

<Split>

<img src={myFace2} />

I'm `Pavlos`,

aka `pvinis` on everything online.

I enjoy using and improving `React Native`.

</Split>

---

`Xcode` is a struggle for many.

Especially coming from `web` or `native Android`.

---

### Why

- It's an `unknown`/`unfamilar` tool.
- Almost all settings need to be edited `using Xcode UI`.
- Its `file format` is not very friendly.

<Notes>
If you have native iOS devs in your team,
probably they know how to handle Xcode and its settings and file diffs,
but it's definitely not as intuitive as `package.json`
</Notes>

---

<AboveFooter>
	<img src={xcode1} />
</AboveFooter>

---

<AboveFooter>
	<img src={diff1} />
</AboveFooter>

---

<AboveFooter>
	<img src={diff2} />
</AboveFooter>

---

<AboveFooter>
	<img src={diff3} />
</AboveFooter>

---

### React Native `Core` and `Community` are working hard.

Besides the many improvments and new features shipped, `tooling` has been getting better too:
- `CocoaPods` was added, making manual `linking` a thing of the past.
- `upgrade-helper` was created, making manual `upgrading` easier.

---

I've had this `idea` for a while:

Wouldn't it be nice if my `Xcode project` was more like `package.json`?

---

`XcodeGen` is here to save the day!

https://github.com/yonaskolb/XcodeGen

---

It can generate an Xcode project from a `project.yml` file.

Imagine `project.yml` is `package.json` and `MyProject.xcodeproj` is `yarn.lock`.

---

Visit https://github.com/pvinis/react-native-xcodegen to get set up.

Steps:
- Install `xcodegen` and `xunique`.
- Copy `make` into your ios dir of your project.
- Find the right project file for your RN version from `templates`.
- Copy into your ios dir of your project and rename to `project.yml`.
- Done. You can now run `./make` from inside `ios` dir to have your Xcode project generated.

<Notes>
the same way you would do with yarn install
</Notes>

---

# Demo


---

Adding libs like permissions.
As usual.

---

Adding native code.
Adding as usual. Just make sure the file is in the dir thats in the Sources part of yml.


---


- how do i use it with upgrades if its not supported
go to my repo
otherwise check the upgrade-helper xcodeproj diffs




- show how xcode changes can be ported to yml (tvos?)
- how do i do changes in xcode and save them in yml?


- make a PR on react native? we should remove xcodeproj from diffs. after that, or add a comment to just run ./ios/make. also pr for https://github.com/yonaskolb/XcodeGen/blob/master/Docs/Examples.md?

  - we need to create a yml. there is an issue and pr to have this automated, but not yet there. you could grab the template i will make. per version
  https://github.com/yonaskolb/XcodeGen/pull/735
  https://github.com/pvinis/react-native-xcodegen
  - maybe a package.json script to run the xcodegen thing?
